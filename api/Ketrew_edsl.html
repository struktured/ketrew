<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Ketrew_database.html">
<link rel="next" href="Ketrew_host.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of class types" rel=Appendix href="index_class_types.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Ketrew" rel="Chapter" href="Ketrew.html">
<link title="Ketrew_artifact" rel="Chapter" href="Ketrew_artifact.html">
<link title="Ketrew_command_line" rel="Chapter" href="Ketrew_command_line.html">
<link title="Ketrew_database" rel="Chapter" href="Ketrew_database.html">
<link title="Ketrew_edsl" rel="Chapter" href="Ketrew_edsl.html">
<link title="Ketrew_host" rel="Chapter" href="Ketrew_host.html">
<link title="Ketrew_long_running" rel="Chapter" href="Ketrew_long_running.html">
<link title="Ketrew_monitored_script" rel="Chapter" href="Ketrew_monitored_script.html">
<link title="Ketrew_nohup_setsid" rel="Chapter" href="Ketrew_nohup_setsid.html">
<link title="Ketrew_path" rel="Chapter" href="Ketrew_path.html">
<link title="Ketrew_pervasives" rel="Chapter" href="Ketrew_pervasives.html">
<link title="Ketrew_state" rel="Chapter" href="Ketrew_state.html">
<link title="Ketrew_target" rel="Chapter" href="Ketrew_target.html">
<link title="Ketrew_unix_process" rel="Chapter" href="Ketrew_unix_process.html"><link title="Hosts" rel="Section" href="#3_Hosts">
<link title="Artifacts" rel="Section" href="#3_Artifacts">
<link title="Targets" rel="Section" href="#3_Targets">
<link title="Workflows" rel="Section" href="#3_Workflows">
<title>Ketrew API : Ketrew_edsl</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Ketrew_database.html" title="Ketrew_database">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Ketrew_host.html" title="Ketrew_host">Next</a>
</div>
<h1>Module <a href="type_Ketrew_edsl.html">Ketrew_edsl</a> (<a href="code_Ketrew_edsl.html">.ml</a>)</h1>

<pre><span class="keyword">module</span> Ketrew_edsl: <code class="code"><span class="keyword">sig</span></code> <a href="Ketrew_edsl.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
Easy interface to the library <b>for end users</b>.<br>
</div>
<hr width="100%">
<br>
This is a more hopefully stable EDSL/API to make workflows and
  deal with the system.
<p>

  Many functions may raise exceptions when called on improperly, but this
  should happen while building the workflow, not after it starts running.<br>
<br>
<h3 id="3_Hosts">Hosts</h3><br>

<pre><span id="TYPEhost"><span class="keyword">type</span> <code class="type"></code>host</span> = <code class="type"><a href="Ketrew_host.html#TYPEt">Ketrew_host.t</a></code> </pre>
<div class="info ">
Alias for the host type.<br>
</div>


<pre><span id="VALparse_host"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.parse_host.html">parse_host</a></span> : <code class="type">string -> <a href="Ketrew_edsl.html#TYPEhost">host</a></code></pre><div class="info ">
See <a href="Ketrew_host.html#VALof_string"><code class="code"><span class="constructor">Ketrew_host</span>.of_string</code></a>.<br>
</div>

<pre><span id="VALhost_cmdliner_term"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.host_cmdliner_term.html">host_cmdliner_term</a></span> : <code class="type">?doc:string -> [ `Required of int ] -> <a href="Ketrew_host.html#TYPEt">Ketrew_host.t</a> Cmdliner.Term.t</code></pre><div class="info ">
Cmdliner term which creates a host argument.<br>
</div>
<br>
<h3 id="3_Artifacts">Artifacts</h3><br>

<pre><span id="TYPEuser_artifact"><span class="keyword">class type</span> <a href="Ketrew_edsl.user_artifact-c.html">user_artifact</a></span> = <code class="code"><span class="keyword">object</span></code> <a href="Ketrew_edsl.user_artifact-c.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
Wrapper for <a href="Ketrew_artifact.html#TYPEt"><code class="code"><span class="constructor">Ketrew_artifact</span>.t</code></a> and <a href="Ketrew_artifact.Type.html#TYPEt"><code class="code"><span class="constructor">Ketrew_artifact</span>.<span class="constructor">Type</span>.t</code></a>.
</div>

<pre><span id="VALfile"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.file.html">file</a></span> : <code class="type">?host:<a href="Ketrew_host.html#TYPEt">Ketrew_host.t</a> -> string -> <a href="Ketrew_edsl.user_artifact-c.html">user_artifact</a></code></pre><div class="info ">
Create a volume containing one file.<br>
</div>

<pre><span id="VALunit"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.unit.html">unit</a></span> : <code class="type"><a href="Ketrew_edsl.user_artifact-c.html">user_artifact</a></code></pre><div class="info ">
The artifact that is “never ready” (i.e. the target associated will always
    be (re-)run if activated).<br>
</div>
<br>
<h3 id="3_Targets">Targets</h3><br>

<pre><span id="TYPEuser_target"><span class="keyword">class type</span> <a href="Ketrew_edsl.user_target-c.html">user_target</a></span> = <code class="code"><span class="keyword">object</span></code> <a href="Ketrew_edsl.user_target-c.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
Wrapper around <a href="Ketrew_target.html#TYPEt"><code class="code"><span class="constructor">Ketrew_target</span>.t</code></a>.
</div>

<pre><span id="VALtarget"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.target.html">target</a></span> : <code class="type">?active:bool -><br>       ?dependencies:<a href="Ketrew_edsl.user_target-c.html">user_target</a> list -><br>       ?make:<a href="Ketrew_target.html#TYPEbuild_process">Ketrew_target.build_process</a> -><br>       ?returns:<a href="Ketrew_edsl.user_artifact-c.html">user_artifact</a> -> string -> <a href="Ketrew_edsl.user_target-c.html">user_target</a></code></pre><div class="info ">
Create a new target.<br>
</div>

<pre><span id="VALactive"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.active.html">active</a></span> : <code class="type">?dependencies:<a href="Ketrew_edsl.user_target-c.html">user_target</a> list -><br>       ?make:<a href="Ketrew_target.html#TYPEbuild_process">Ketrew_target.build_process</a> -><br>       ?returns:<a href="Ketrew_edsl.user_artifact-c.html">user_artifact</a> -> string -> <a href="Ketrew_edsl.user_target-c.html">user_target</a></code></pre><div class="info ">
Create a new target but with <code class="code">~active:<span class="keyword">true</span></code>.<br>
</div>

<pre><span id="VALnohup_setsid"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.nohup_setsid.html">nohup_setsid</a></span> : <code class="type">host:<a href="Ketrew_host.html#TYPEt">Ketrew_host.t</a> -> string list -> <a href="Ketrew_target.html#TYPEbuild_process">Ketrew_target.build_process</a></code></pre><div class="info ">
Create a nohup_setsid build process.<br>
</div>

<pre><span id="VALdirect_shell_command"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.direct_shell_command.html">direct_shell_command</a></span> : <code class="type">?host:<a href="Ketrew_host.html#TYPEt">Ketrew_host.t</a> -> string -> <a href="Ketrew_target.html#TYPEbuild_process">Ketrew_target.build_process</a></code></pre><div class="info ">
Create a shell command process (not “long-running”).<br>
</div>
<br>
<h3 id="3_Workflows">Workflows</h3><br>

<pre><span id="TYPEworkflow"><span class="keyword">type</span> <code class="type"></code>workflow</span> </pre>
<div class="info ">
Workflows wrap collections of targets.<br>
</div>


<pre><span id="VALworkflow"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.workflow.html">workflow</a></span> : <code class="type"><a href="Ketrew_edsl.user_target-c.html">user_target</a> list -> <a href="Ketrew_edsl.html#TYPEworkflow">workflow</a></code></pre><div class="info ">
Create a workflow with a list of targets.<br>
</div>

<pre><span id="VALadd_target"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.add_target.html">add_target</a></span> : <code class="type"><a href="Ketrew_edsl.html#TYPEworkflow">workflow</a> -> <a href="Ketrew_edsl.user_target-c.html">user_target</a> -> unit</code></pre><div class="info ">
Add a target to a workflow, imperative style.<br>
</div>

<pre><span id="VALmake"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.make.html">make</a></span> : <code class="type"><a href="Ketrew_edsl.html#TYPEworkflow">workflow</a> -> <a href="Ketrew_command_line.html#TYPEuser_todo">Ketrew_command_line.user_todo</a> list</code></pre><div class="info ">
Convert a workflow into a command expected by <a href="Ketrew_command_line.html"><code class="code"><span class="constructor">Ketrew_command_line</span></code></a><br>
</div>

<pre><span id="VALmake_workflow"><span class="keyword">val</span> <a href="code_VALKetrew_edsl.make_workflow.html">make_workflow</a></span> : <code class="type"><a href="Ketrew_edsl.user_target-c.html">user_target</a> list -> <a href="Ketrew_command_line.html#TYPEuser_todo">Ketrew_command_line.user_todo</a> list</code></pre><div class="info ">
Call <a href="Ketrew_edsl.html#VALworkflow"><code class="code"><span class="constructor">Ketrew_edsl</span>.workflow</code></a> and then <a href="Ketrew_edsl.html#VALmake"><code class="code"><span class="constructor">Ketrew_edsl</span>.make</code></a> at once.<br>
</div>
</body></html>